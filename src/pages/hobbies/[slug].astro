---
import Base from '../../layouts/Base.astro';
import { getCollection, getEntry } from 'astro:content';

export async function getStaticPaths() {
  const posts = await getCollection('hobbies');
  return posts.map((p) => ({ params: { slug: p.slug } }));
}

const { slug } = Astro.params;
const entry = await getEntry('hobbies', slug!);
const { Content } = entry ? await entry.render() : { Content: null };
---

<Base title={`Hobby – ${entry?.data.title ?? ''}`}
  description={entry?.data.summary ?? undefined}>
  <div class="mb-6">
    <a href="/" class="text-sm text-neutral-500 hover:text-neutral-900 transition-colors">← Back to home</a>
  </div>
  {entry && Content && (
    <article class="hobby-content">
      <h1 class="text-xl font-semibold mb-2">{entry.data.title}</h1>
      <p class="text-sm text-neutral-500 mb-8">{entry.data.date}</p>
      <div class="hobby-body">
        <Content />
      </div>
    </article>
  )}
  {!entry && <p class="text-neutral-600">Post not found.</p>}
</Base>

<style>
  .hobby-content {
    max-width: 65ch;
    margin: 0 auto;
  }

  .hobby-body :global(p) {
    margin-bottom: 1.5rem;
    line-height: 1.8;
    font-size: 0.9375rem;
    color: #333;
  }

  .hobby-body :global(hr) {
    margin: 2rem 0;
    border: none;
    border-top: 1px solid #e5e5e5;
  }

  .hobby-body :global(br) {
    display: block;
    content: "";
    margin: 1rem 0;
  }
</style>


